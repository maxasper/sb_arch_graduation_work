# Architecture options

## Выбор верхнеуровневого архитектурного стиля.

Прежде всего приведем еще раз требования заказчиков:

У заказчика есть 11 основных требований, на основании которых нужно сформировать функциональные требования:

1. Реализация социальных компонентов в приложении. Оно должно формировать социальные группы по интересам, которые будут
   самоподдерживаться и в которых участники будут общаться и влиять друг на друга. Одна из целей — формирование такого
   образа бренда в глазах участников, который позволит нашим товарам оставаться в фаворитах при выборе из прочих равных.
2. Предоставление информации о характеристиках тренировки, сравнение с прошлыми тренировками, сравнение с людьми в
   регионе, с профессиональными спортсменами. Основное сравнение — с самим собой для стимулирования результатов.
3. Возможность поиска людей по схожим интересам, поиск людей, которые тренируются в том же месте, имеют те же маршруты
   или которые тренируются прямо сейчас, для формирования групп для совместных занятий.
4. Возможность указания своего спортивного инвентаря (обувь, снаряды) для подсказок по составлению тренировок или
   своевременного обновления обуви.
5. Формирование и подсказки по составлению тренировок и их расписания.
6. Уведомление друзей о ваших новых успехах.
7. Геймификация.
8. Внедрение промо акций и новостей спорта в зависимости от характера тренировок для вовлеченности.
9. Возможность подключения сторонних устройств для отслеживания тренировок (датчик сердцебиения, кислорода и так далее).
10. Легкая интеграция существующих приложений компании для облегчения продаж.
11. Возможность вставки региональных промоакций.

На основании этих требований наше новое приложение можно охарактеризовать как социальную сеть со спортивным уклоном,
одной из основных особенностей которой является персональный ассистент тренировок.

Социальная сеть предполагает большое количество пользователей, что в свою очередь приводит нас к тому, что наше
приложение в целом должно обладать прежде всего высокой надежностью и отказоустойчивостью для привлекательности среди
пользователей, а также должна леко масштабироваться, чтобы выдерживать любое количество посетителей посетителей. При
этом для заказчика важно, чтобы стоимость владения самим приложениям оставалась в разумных пределах. Исходя из этих
предпосылок и таблицы сравнения основных архитектурных стилей, можно сделать вывод, что на самом верхнем уровне нам
необходимо выбрать микросервисный стиль в качестве базовой архитектуры. На уровне же отдельных компонентов верхнего
уровня нет запретов на то, чтобы выбрать какой-либо другой из более подходящих для именно для этого крупногабаритного
компонента стиль.

|                 | Монолит | Service-Oriented | Service-Based | Space-Based(distr cache) | Space-Based(Repl cache) | Event-Driven | Microservices |
|-----------------|---------|------------------|---------------|--------------------------|-------------------------|--------------|---------------|
| Scalability     |       2 |                4 |             4 |                        5 |                       5 |            5 |             5 |
| Simplicity      |       5 |                2 |             4 |                        1 |                       2 |            3 |             3 |
| Testability     |       4 |                2 |             3 |                        2 |                       2 |            3 |             3 |
| Performance     |       4 |                3 |             3 |                        5 |                       5 |            3 |             3 |
| Fault Tolerance |       2 |                4 |             4 |                        3 |                       4 |            3 |             5 |
| Cost            |       5 |                1 |             3 |                        1 |                       1 |            2 |             1 |
| Elasticity      |       2 |                3 |             3 |                        5 |                       5 |            3 |             3 |

## Основные компоненты

1. Т.к. мы делаем социальную сеть, то основным нашим компонентом или core domain будет, собственно, социальная сеть.
   Т.к. этот компонент довольно большой, есть смысл выделить в нем подкомпоненты. Глобально можно выделить пользователя
   и его данные и всю инфраструктуру, организованную для него - социальную составляющую. Таким образом внутри социальной
   сети core domain будет пользователь
2. Второй составляющей нашего приложения будет ассистент тренировок. Он будет отвечать программы тренировок, расписание,
   советы
3. Пользовательское приложение, собственно интерфейс для пользователя. Предполагается, что будет три версии: ios,
   android и web. Web версия не является приоритетной.
4. IoT - модуль предназначенный для интеграции со сторонними спортивными датчиками.


